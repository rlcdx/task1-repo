<!DOCTYPE html ><html><head><title>Song Editor</title></head><body><h1>Song Editor</h1><label for="songId">Enter Song ID:</label><input id="songId" type="text"/><button id="fetchButton">Fetch Song</button><form id="songForm" style="display:none"><label for="title">Title:</label><input id="title" type="text"/><label for="artist">Artist:</label><input id="artist" type="text"/><button id="submitButton" type="submit">Save Changes</button></form></body><script>const fetchButton = document.querySelector('#fetchButton');
const songForm = document.querySelector('#songForm');
const titleInput = document.querySelector('#title');
const artistInput = document.querySelector('#artist');
const submitButton = document.querySelector('#submitButton');

fetchButton.addEventListener('click', () => {
  const songId = document.querySelector('#songId').value;
  fetch('http://localhost:8000/songs')
    .then(response => response.json())
    .then(songs => {
      console.log(songs)
      //- const song = songs.find(s => s.ID === songId);
      if (song) {
        titleInput.value = song.title;
        artistInput.value = song.artist;
        songForm.style.display = 'block';
      } else {
        alert(`Song ID ${songId} not found!`);
      }
    });
});

submitButton.addEventListener('click', event => {
  event.preventDefault();
  const songId = document.querySelector('#songId').value;
  const title = titleInput.value;
  const artist = artistInput.value;
  const data = { title, artist };
  fetch(`http://localhost:8000/songs/${songid}`, {
    method: 'PATCH',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })
  .then(response => {
    if (response.ok) {
      alert(`Song ID ${songId} updated successfully!`);
    } else {
      alert(`Error updating song ID ${songId}.`);
    }
  });
});</script></html>